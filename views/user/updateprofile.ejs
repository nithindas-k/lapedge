<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet"
    href="https://cdn-uicons.flaticon.com/2.0.0/uicons-regular-straight/css/uicons-regular-straight.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="/css/styles.css" />
  <link rel="stylesheet" href="/bootstrap.min.css">
  <link rel="stylesheet" href="/css/tiny-slider.css">
  <link rel="stylesheet" href="/css/stylethree.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">

  <title>Shop</title>

  <style>
    .tab__content {
      display: none;
    }

    .tab__content.active-tab {
      display: block;
    }

    .order-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      grid-gap: 20px;
    }

    .order-card {
      background-color: #ffffff;
      border: 1px solid #e6e6e6;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .order-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .order-card h3 {
      font-size: 18px;
      font-weight: 600;
      margin-top: 0;
      margin-bottom: 10px;
    }

    .order-card p {
      font-size: 14px;
      color: #000000;
      margin-bottom: 8px;
    }

    .order-card .actions {
      display: flex;
      justify-content: flex-end;
      margin-top: 16px;
    }

    .order-card .actions a {
      font-size: 14px;
      color: #ffaa00;
      text-decoration: none;
      transition: color 0.3s;
    }

    .order-card .actions a:hover {
      color: #0056b3;
    }

    .tabs__content {
      height: 500px;
      overflow: hidden;
      overflow-y: scroll;
      scroll-behavior: smooth;


    }

    ::-webkit-scrollbar {
      display: none;

    }



    .action-buttons a {
      margin: 5px;

    }

    .profile-card {
      width: 600px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      text-align: center;
    }

    .profile-header {
      background-color: #f0f0f0;
      padding: 20px;
      position: relative;
    }

    .profile-image {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #ffffff88;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .profile-name {
      margin-top: 15px;
      font-size: 22px;
      color: #000000;
    }

    .profile-details {
      padding: 20px;
    }

    .detail-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      color: #666;
    }

    .detail-icon {
      margin-right: 10px;
      width: 24px;
      height: 24px;
      fill: #ffaa00;
    }

    .edit-btn {
      background-color: #FDA208;
      color: rgb(0, 0, 0);
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      width: 150px;
      display: flex;
      align-items: flex-end;
      transition: background-color 0.3s ease;
    }

    .edit-btn:hover {
      background-color: #ffaa00;
    }

    .accounts {
      display: flex;
      align-items: center;
      justify-content: center;
    }

  

        .profile-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            padding: 30px;
        }

        .profile-title {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 22px;
        }

       

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            border-color: #007bff;
        }

        .form-input:disabled {
            background-color: #f9f9f9;
            cursor: not-allowed;
            color: #777;
        }

        .update-btn {
            width: 100%;
            padding: 12px;
            background-color: #FDA208;
            color: rgb(0, 0, 0);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-weight: 600;
        }

       
  </style>
</head>

<body style="background-color: #EFF2F1;">

  <main class="main">
    <%- include('../partials/usernavbar') %>

      </nav>

      <main class="main">
        <!--=============== BREADCRUMB ===============-->
        <section class="breadcrumb">
          <ul class="breadcrumb__list flex container">
            <li><a href="/" class="breadcrumb__link">Home</a></li>
            <li><span class="breadcrumb__link"></span>></li>
            <li><a href="/shop"><span class="breadcrumb__link">Shop</span></a></li>
            <li><span class="breadcrumb__link"></span>></li>
            <li><span class="breadcrumb__link">Account</span></li>
            <li><span class="breadcrumb__link"> > Profile</span></li>
            
          </ul>
        </section>

        <!--=============== DETAILS ===============-->
        <%- include('../partials/accountnav') %>

          <section class="accounts section--lg">




            <!-- Dashboard Content -->
            <div class="profile-container">
                <h2>Edit Profile</h2><br>
                <form id="profileForm">
                    <!-- <div class="profile-image-upload">
                        <img 
                            id="profileImage" 
                            src="" 
                            alt="Profile" 
                            class="profile-image"
                        >
                        <div class="image-upload-btn">
                            Change Profile Picture
                            <input 
                                type="file" 
                                id="imageUpload" 
                                class="image-upload-input" 
                                accept="image/*"
                            >
                        </div>
                    </div> -->
        
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" class="form-input" value="<%= user.name %>" required>
                    </div>
        
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" class="form-input" value="<%= user.email %>" disabled>
                    </div>
                        <input type="text" hidden id="userId" value="<%=user._id %>">
        
        
                    <button type="submit" id="update-btn" class="update-btn">Update Profile</button>
                </form>
            </div>




       

            </div>
          </section>



      </main>

      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script>
  
  
          document.getElementById("update-btn").addEventListener("click", async function (event) {
  
              event.preventDefault();
  
  
              const name = document.getElementById("name").value
              const email = document.getElementById("email").value
              const userId = document.getElementById("userId").value
  
  
              try {
  
                  const response = await fetch("/profile-edit", {
  
                      method: "POST",
                      headers: {
                          'Content-Type': 'application/json'
                      },
                      body: JSON.stringify({
                          name: name,
                          email: email,
  
                      })
  
                  })
                  const result = await response.json()
                  if (result.success) {
  
                      Swal.fire({
                          icon: 'success',
                          title: result.message,
                          toast: true,
                          position: 'top-right',
                          showConfirmButton: false,
                          timer: 2000,
                          timerProgressBar: true,
                      })
                      setTimeout(()=>{
                             window.location.href = `/account/${userId}`
  
                      },2000)
                          
                  }
  
  
  
              } catch (error) {
                  console.log(error)
              }
  
  
  
          })
  
  
  
  
      </script>
</body>

</html>